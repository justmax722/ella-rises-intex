<!-- Sidebar Navigation -->
<aside class="fixed lg:sticky top-0 left-0 z-40 h-screen w-72 bg-card border-r border-border flex flex-col transition-transform lg:translate-x-0 -translate-x-full">
    <div class="flex flex-col h-full">
    <!-- Logo Section -->
    <div class="p-6 hidden lg:block">
        <h1 class="text-2xl font-serif font-bold text-primary">Ella Rises</h1>
        <p class="text-sm text-muted-foreground mt-1">CRM System</p>
    </div>
    
    <!-- Divider -->
    <div class="border-b border-border hidden lg:block"></div>

    <!-- Navigation Menu -->
    <nav class="flex-1 p-4 space-y-2 overflow-y-auto mt-16 lg:mt-0">
        <ul class="space-y-2">
            <li>
                <a href="/dashboard" class="flex items-center gap-3 px-3 py-2.5 rounded-lg <%= currentPage === 'dashboard' ? 'bg-accent text-accent-foreground font-medium' : 'text-muted-foreground hover:bg-muted hover:text-foreground' %> transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-dashboard h-5 w-5">
                        <rect width="7" height="9" x="3" y="3" rx="1"></rect>
                        <rect width="7" height="5" x="14" y="3" rx="1"></rect>
                        <rect width="7" height="9" x="14" y="12" rx="1"></rect>
                        <rect width="7" height="5" x="3" y="16" rx="1"></rect>
                    </svg>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="/participants" class="flex items-center gap-3 px-3 py-2.5 rounded-lg <%= currentPage === 'participants' ? 'bg-accent text-accent-foreground font-medium' : 'text-muted-foreground hover:bg-muted hover:text-foreground' %> transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users h-5 w-5">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>Participants</span>
                </a>
            </li>
            <li>
                <a href="/events" class="flex items-center gap-3 px-3 py-2.5 rounded-lg <%= currentPage === 'events' ? 'bg-accent text-accent-foreground font-medium' : 'text-muted-foreground hover:bg-muted hover:text-foreground' %> transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar h-5 w-5">
                        <path d="M8 2v4"></path>
                        <path d="M16 2v4"></path>
                        <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                        <path d="M3 10h18"></path>
                    </svg>
                    <span>Events</span>
                </a>
            </li>
            <li>
                <a href="/surveys" class="flex items-center gap-3 px-3 py-2.5 rounded-lg <%= currentPage === 'surveys' ? 'bg-accent text-accent-foreground font-medium' : 'text-muted-foreground hover:bg-muted hover:text-foreground' %> transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text h-5 w-5">
                        <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path>
                        <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                        <path d="M10 9H8"></path>
                        <path d="M16 13H8"></path>
                        <path d="M16 17H8"></path>
                    </svg>
                    <span>Surveys</span>
                </a>
            </li>
            <li>
                <a href="/milestones" class="flex items-center gap-3 px-3 py-2.5 rounded-lg <%= currentPage === 'milestones' ? 'bg-accent text-accent-foreground font-medium' : 'text-muted-foreground hover:bg-muted hover:text-foreground' %> transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-target h-5 w-5">
                        <circle cx="12" cy="12" r="10"></circle>
                        <circle cx="12" cy="12" r="6"></circle>
                        <circle cx="12" cy="12" r="2"></circle>
                    </svg>
                    <span>Milestones</span>
                </a>
            </li>
            <li>
                <a href="/donations" class="flex items-center gap-3 px-3 py-2.5 rounded-lg <%= currentPage === 'donations' ? 'bg-accent text-accent-foreground font-medium' : 'text-muted-foreground hover:bg-muted hover:text-foreground' %> transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign h-5 w-5">
                        <line x1="12" x2="12" y1="2" y2="22"></line>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                    </svg>
                    <span>Donations</span>
                </a>
            </li>
            <% if (user.role === 'manager') { %>
            <li>
                <a href="/users" class="flex items-center gap-3 px-3 py-2.5 rounded-lg <%= currentPage === 'users' ? 'bg-accent text-accent-foreground font-medium' : 'text-muted-foreground hover:bg-muted hover:text-foreground' %> transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-cog h-5 w-5">
                        <circle cx="18" cy="15" r="3"></circle>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M10 15H6a4 4 0 0 0-4 4v2"></path>
                        <path d="m21.7 16.4-.9-.3"></path>
                        <path d="m15.2 13.9-.9-.3"></path>
                        <path d="m16.6 18.7.3-.9"></path>
                        <path d="m19.1 12.2.3-.9"></path>
                        <path d="m19.6 18.7-.4-1"></path>
                        <path d="m16.8 12.3-.4-1"></path>
                        <path d="m14.3 16.6 1-.4"></path>
                        <path d="m20.7 13.8 1-.4"></path>
                    </svg>
                    <span>Users</span>
                </a>
            </li>
            <% } %>
        </ul>
    </nav>

    <!-- User Section - Pushed to bottom -->
    <div class="mt-auto p-4 border-t border-border">
        <div class="mb-3 px-3">
            <p class="text-sm font-medium text-foreground">Manager Admin</p>
            <p class="text-xs text-muted-foreground"><%= user.email %></p>
            <p class="text-xs text-accent mt-1 capitalize"><%= user.role %></p>
        </div>
        <a href="/logout" class="inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-full justify-start">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out mr-2 h-4 w-4">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" x2="9" y1="12" y2="12"></line>
            </svg>
            Logout
        </a>
    </div>
    </div>
</aside>

